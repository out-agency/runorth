function t_input_range_getGradient(recid,lid,color1,color2,percentage,el_style){var gradient="linear-gradient(to right, ";var breakPoint=percentage*100;var attrValue=gradient+color1+" 0%, "+color1+" "+breakPoint+"%, "+color2+" "+breakPoint+"%, "+color2+" 100%)";var fieldSelector='#rec'+recid+' [data-input-lid="'+lid+'"] .t-range';var styleValue=fieldSelector+'::-webkit-slider-runnable-track{\nbackground:'+attrValue+';\n}\n'+fieldSelector+'::-moz-range-track{\nbackground:'+attrValue+';\n}';styleValue+='\n'+fieldSelector+'::-ms-fill-upper{\nbackground:'+color2+';\n}\n'+fieldSelector+'::-ms-fill-lower{\nbackground:'+color1+';\n}';$(el_style).html(styleValue)}
function t_input_range_updateval(recid,lid,el_style){var input=$('#rec'+recid).find('[data-input-lid="'+lid+'"] .t-range');var value=input.val();var max=input.attr('max')*1;var min=input.attr('min')*1;var dist=max-min;var percentage=(value-min)/dist;var inputWidth=input.width();var thumbWidth=21;var selectedColor=$(input).attr("data-range-color");selectedColor=(typeof selectedColor!=="undefined")?selectedColor:"#000";var nonSelectedColor="#f4f4f4";t_input_range_getGradient(recid,lid,selectedColor,nonSelectedColor,percentage,el_style);var offLeft=Math.floor(percentage*(inputWidth-thumbWidth)+thumbWidth/2);input.next('.t-range__value-txt').html(value).css({'left':offLeft+'px','display':'block'})}
function t_input_range_init(recid,lid){var el=$('#rec'+recid).find('[data-input-lid="'+lid+'"]');var el_style=document.createElement('style');$(el_style).addClass('range-'+recid+'-'+lid);el.append(el_style);el.find('.t-range').on("input change",function(){t_input_range_updateval(recid,lid,el_style)});el.find('.t-range').bind('popupOpened displayChanged',function(){t_input_range_updateval(recid,lid,el_style)});$('#rec'+recid).find('.t-btn').on('click',function(){t_input_range_updateval(recid,lid,el_style)});$(window).bind('resize',t_throttle(function(){t_input_range_updateval(recid,lid,el_style)},200));t_input_range_updateval(recid,lid,el_style)}
